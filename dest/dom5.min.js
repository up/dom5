/**
 * dom5 - Shameless extending of native objects (Window, Document, Element, NodeList, String and Event)
 * @version v0.1.0
 * @repository https://github.com/up/dom5
 * @author Uli Preuss
 * @license MIT
 * @build Sat Jan 10 2015 23:13:57 GMT+0100 (CET)
 */

!function(t,e,n,r,s,a,i){function o(t,e){var n,r=t;document.createEvent?(n=document.createEvent("Event"),n.initEvent(e,!0,!1),r.dispatchEvent(n)):document.createEventObject&&(n=document.createEventObject(),r.fireEvent("on"+e,n))}function f(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function c(t,e,n){return Object.defineProperty(t.fn,e,{configurable:!0,writable:!0,enumerable:!1,value:n})}[].forEach.call(arguments,function(r){r.fn=r.prototype,(r===t||r===e||r===n)&&(r.fn.on=r.fn.addEventListener,r.fn.off=r.fn.removeEventListener),(r===t||r===e)&&(r.fn.find=r.fn.querySelector,r.fn.findAll=r.fn.querySelectorAll),r===e&&(r.fn.klass=r.className),(r===t||r===e||r===n)&&(r.fn.trigger=function(t){o(this,t)})}),s.fn.set||c(s,"set",function(t){var e=this,n=["webkit","moz","ms","o"];Object.keys(t).forEach(function(r){var s=t[r];if("string"==typeof e[r])e[r]=s;else for(var a=r.charAt(0).toUpperCase()+r.slice(1),i=0;i<n.length;i++)if(r=n[i]+a,"string"==typeof e[r]){e[r]=s;break}})}),t.fn.ready||c(t,"ready",function(t){document.on("DOMContentLoaded",t,!1)}),t.fn.fragment||c(t,"fragment",function(t,e){if(t&&"string"==typeof t){var n=document.createElement(t);if(e&&"object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&("html"===r?n.innerHTML=e.html.replace(/ /g,"&nbsp;"):n[r]=e[r]);return n}return!1}),e.fn.matches||(e.fn.matches=e.fn.webkitMatchesSelector||e.fn.mozMatchesSelector||e.fn.msMatchesSelector||e.fn.oMatchesSelector),e.fn.closest||c(e,"closest",function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return!1}),e.fn.data||c(e,"data",function(t,e){t="data-"+t.replace(/([A-Z])/g,"-$1").toLowerCase();var n=this.attr(t);return e?(this.attr(t,"object"==typeof e?JSON.stringify(e):e),this):/^[\[\{]/.test(n)?JSON.parse(n):n}),e.fn.removeData||c(e,"removeData",function(t){return t="data-"+t.replace(/([A-Z])/g,"-$1").toLowerCase(),this.removeAttr(t),this}),e.fn.hasClass||c(e,"hasClass",function(t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(this.className)}),e.fn.addClass||c(e,"addClass",function(t){return this.className=this.className?[this.className,t].join(" "):t,this}),e.fn.removeClass||c(e,"removeClass",function(t){if(this.hasClass(t)){var e=this.className;this.className=e.replace(new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)","g"),"")}return this}),e.fn.toggleClass||c(e,"toggleClass",function(t){if(this.hasClass(t)){var e=this.className;this.className=e.replace(new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)","g"),"")}else this.className=this.className?[this.className,t].join(" "):t;return this}),e.fn.prepend||c(e,"prepend",function(t){return this.insertBefore(t,this.firstChild),this}),e.fn.append||c(e,"append",function(t){return this.appendChild(t),this}),e.fn.attr||c(e,"attr",function(t,e){if(t){if(!e)return this.getAttribute(t);this.setAttribute(t,e)}return this}),e.fn.removeAttr||c(e,"removeAttr",function(t){return this.removeAttribute(t),this}),e.fn.css||c(e,"css",function(t,e){if("string"==typeof t){var n=document.defaultView.getComputedStyle(this,null).getPropertyValue(t);return e?(n=parseInt(n,10),null===n||isNaN(n)?0:n):n}var r={};for(var s in t)t.hasOwnProperty(s)&&(r[f(s)]=t[s]);return this.style.set(r),this}),r.fn.each||c(r,"each",function(t){"function"==typeof t&&[].forEach.call(this,function(e,n){t(e,n)})}),r.fn.get||c(r,"get",function(t){return 0>t?(t=-1*t,this[this.length-t]):this[t]}),a.fn.render=function(t,e){var n=new RegExp("{{"+t+"}}","g");return this.replace(n,e)},i.fn.deviceTarget=function(){return this.targetTouches?this.targetTouches[0].target:this.target},n.fn.touchSupport="ontouchstart"in window||"onmsgesturechange"in window}(Document,Element,Window,NodeList,CSSStyleDeclaration,String,Event);